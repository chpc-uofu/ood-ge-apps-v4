<%
app_name = "Multitenant Instruction"
template_root = "/var/www/ood/apps/templates/"
%>

---
form:
  - client_group
  - mt_instructional
  - mt_method
  - mt_delivery
  - mt_appname
attributes:

  cluster:
    widget: select
    options:
      <%- CustomQueues.clusters.each do |g| %>
      - "<%= g %>"
      <%- end %>
<% IO.foreach(template_root+"friscos_v2") do |line| %>
<%= line %>
<% end %>
<% IO.foreach(template_root+"cluster-help") do |line| %>
<%= line %>
<% end %>
  custom_accpart:
    widget: select
    options:
      <%- CustomAccPart.accpart.each do |g| %>
      - "<%= g %>"
      <%- end %>
<% IO.foreach(template_root+"accpart-help") do |line| %>
<%= line %>
<% end %>

<% IO.foreach(template_root+"job_params_v33") do |line| %>
<%= line %>
<% end %>
        
  client_group:
    label: "Tenant Group"
    widget: 'select'
    options:
      <%- %x{id -Gn $USER}.split(' ').each do |group| %>
      - ["<%= group %>"]
      <%- end %>
    help: Select the group of users that should connect to your app.

  mt_method: "card"
  mt_delivery: "sys/multitenant-delivery_readfile"
  mt_instructional:
    widget: "path_selector"
    label: "Learning Content"
    data-target-file-type: file  # Valid values are: files, dirs, or both
    readonly: true
    help: |
      Select a markdown file with the content you want to display on the
      instructional card. **NOTE**: the targeted users must have permission to
      access and read the file.
  mt_appname: "Class"
